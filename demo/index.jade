doctype html
html(lang="en")
	head
		meta(charset="utf-8")
		title AngularJS Charts by Robin Hu
		script(src='../bower_components/d3/d3.js')
		script(src='../bower_components/angular/angular.js')
		script(src='../dist/angular-charts.js')

		link(href='style.css', rel='stylesheet',type='text/css')

		script(type='text/javascript').
			function getStocks() {
				var stocks = [];
				var startPrice = 50.1;
				var volatility = 0.08;
				for(var i = 0; i < 50; i++) {
					stocks.push({
						x: i,
						y: startPrice
					});
					var rnd = Math.random();
					var changePct = 2 * volatility * rnd;

					if (changePct > volatility) {
						changePct -= 2*volatility;
					}

					startPrice = startPrice + startPrice * changePct;
				}

				return stocks;
			}

			function DemoController($scope) {
				$scope.data = [
					{
						key: 'test',
						values: getStocks()
					},
					{
						key: 'test 2',
						values: getStocks()
					},
					{
						key: 'test 3',
						values: getStocks()
					}
				]

				$scope.options = {
					getX: function(d,i) { return i; },
					getY: function(d) { return d.y; },
					margin: {
						left: 90,
						bottom: 90
					}
				}
			}


	body(ng-app='rh.angular-charts')
		h1 My Chart {{'hello'}} 
		div(ng-controller='DemoController')
			#lineChart(rh-line-chart="", rh-data="data", rh-options="options")
